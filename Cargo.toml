[package]
name = "can-viewer"
version = "0.2.0"
edition = "2021"
default-run = "can-viewer"
license = "MIT OR Apache-2.0"
authors = ["can-viewer contributors"]
repository = "https://github.com/reneherrero/can-viewer"
homepage = "https://github.com/reneherrero/can-viewer"
rust-version = "1.85.0"
readme = "README.md"
description = "CAN Data Viewer with MDF4 and SocketCAN support"
keywords = ["can", "mdf4", "dbc", "automotive", "socketcan"]
categories = ["visualization", "embedded"]
include = [
    "src/**/*",
    "Cargo.toml",
    "tauri.conf.json",
    "build.rs",
    "icons/*",
    "dist/**/*",
    "capabilities/*",
    "examples/*",
    "gen/**/*",
    "/README.md",
    "/LICENSE-*",
    "/LICENSING.md",
]

[build-dependencies]
tauri-build = { version = "2", features = [] }

[dependencies]
tauri = { version = "2", features = [] }
tauri-plugin-dialog = "2"
tauri-plugin-shell = "2"
serde = { version = "1", features = ["derive"] }
serde_json = "1"
tokio = { version = "1", features = ["sync", "rt"] }
thiserror = "2"

# MDF4 parsing (local path for development)
mdf4-rs = "0.1.2"

# DBC parsing (local path for development)
dbc-rs = { version = "0.2.2", features = ["std", "embedded-can"] }

# embedded-can for standard CAN types
embedded-can = "0.4"

# CLI argument parsing
clap = { version = "4", features = ["derive"] }

# Config directory
dirs = "6"

# CAN support (Linux only)
[target.'cfg(target_os = "linux")'.dependencies]
socketcan = "3"

[lib]
name = "can_viewer"
path = "src/lib.rs"

[[bin]]
name = "can-viewer"
path = "src/main.rs"

[features]
default = ["custom-protocol"]
custom-protocol = ["tauri/custom-protocol"]
devtools = ["tauri/devtools"]
